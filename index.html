<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta
      name="author"
      content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Astro v5.7.10" />
    <title>Dashboard Template Â· Bootstrap v5.3</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link href="./dashboard.rtl.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

     <link href="./leaflet-search.min.css" rel="stylesheet" />
     <script src="./leaflet-search.js"></script>

     <link href="https://unpkg.com/tabulator-tables@6.3.1/dist/css/tabulator.min.css" rel="stylesheet">
    <script src="https://unpkg.com/tabulator-tables@6.3.1/dist/js/tabulator.min.js"></script>
  </head>

  <body>
    <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
      <symbol id="list" viewBox="3 3 12 12">
        <path
          fill="white"
          fill-rule="evenodd"
          d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
        ></path>
      </symbol>
    </svg>
    <header
      class="navbar sticky-top bg-dark flex-md-nowrap p-0 shadow"
      data-bs-theme="dark"
    >
      <h1
        class="navbar-brand col-md-3 col-lg-2 me-0 px-3 mt-2 text-white fs-3"
        >Flood-Related 311 Calls in Brooklyn 2020-2024</h1>
      <ul class="navbar-nav flex-row d-md-none">
        <li class="nav-item text-nowrap">
          <button
            class="nav-link px-3 text-white"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#sidebarMenu"
            aria-controls="sidebarMenu"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <svg class="bi" aria-hidden="true">
              <use xlink:href="#list"></use>
            </svg>
          </button>
        </li>
      </ul>
      <div id="navbarSearch" class="navbar-search w-100 collapse">
        <input
          class="form-control w-100 rounded-0 border-0"
          type="text"
          placeholder="Search"
          aria-label="Search"
        />
      </div>
    </header>
    <div class="container-fluid">
      <div class="row">
        <div
          class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary"
        >
          <div
            class="offcanvas-md offcanvas-end bg-body-tertiary"
            tabindex="-1"
            id="sidebarMenu"
            aria-labelledby="sidebarMenuLabel"
          >
          <p
          class="paragraph d-flex justify-content-between align-items-center px-3 mt-4 text-body-secondary"
        >
          <span>Explore how urban flooding is affecting residents of Brooklyn. Choose which recents days of heavy flooding to include and which issue types. 
            This data only includes days of 2 in of rainfall of more in a 24 hr period. There were no such days in 2022.
          </span>
      </p>
         
          <h6
          class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-uppercase"
        >
          <span>Heavy Rain Days by Year</span>
        </h6>
        <div class="inputs mx-3" id="years">
          <div>
          <input type="checkbox" class="year" value=2020 checked="true">
          <label class="checkbox-labels text-body-secondary"for="2020">2020</label>
          <input type="checkbox" class="year" value=2021 checked="true">
          <label class="checkbox-labels text-body-secondary"for="2021">2021</label>
          <input type="checkbox" class="year" value=2023 checked="true">
          <label class="checkbox-labels text-body-secondary"for="2023">2023</label>
          </div>
          <div>
          <input type="checkbox" class="year" value=2024 checked="true">
          <label class="checkbox-labels text-body-secondary"for="2024">2024</label>
          </div>
          <div>

          </div>
        </div>  
          <div
              class="offcanvas-body d-md-flex flex-column p-0 pt-lg-3 overflow-y-auto"
            >
              <h6
                class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-2 mb-1 text-uppercase"
              >
                <span>Flood-Related Problems</span>
              </h6>
              <div class="inputs mx-3" id="years">
                <div>
                  <input type="checkbox" class="problem-type" value="Sewer Backup" checked="true">
                  <label class="checkbox-labels text-body-secondary" for="Sewer Backup">Sewer Backup</label>
                </div>
                <div>
                  <input type="checkbox" class="problem-type"  value="Catch Basin Clogged/Flooding" checked="true">
                  <label class="checkbox-labels text-body-secondary"for="Catch Basin Clogged/Flooding">Catch Basin Clogged/Flooding</label>
                </div>
                <div>
                  <input type="checkbox" class="problem-type"  value="Street Flooding" checked="true">
                  <label class="checkbox-labels text-body-secondary"for="Street Flooding">Street Flooding</label>
                </div>
                <div> 
                  <input type="checkbox" class="problem-type"  value="Dirty Water" checked="true">
                  <label class="checkbox-labels text-body-secondary"for="Dirty Water">Dirty Water</label>
                </div>
              </div>  
              <hr class="my-3" />
                <p class="footnote mx-3 text-body-secondary fst-italic">This map was created for CUNY Hunter College's Web GIS course. The webmap was created using leaflet, boostrap, vs studio code, observable and github. The data processing was done with QGIS and Python. The unfiltered 311 calls dataset is available at NYC OpenData.</p>
            </div>
          </div>
        </div>
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
          
          <div id="map" class="mt-4"></div>

          <h2 class = mt-3>Data table</h2>
          <div class="table-responsive small">
            <div id="table_div" class = "mb-5"></div>
            
          </div>
        </main>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.2/dist/chart.umd.js"></script>

    <script src="dashboard.js"></script>
    
  </body>
</html>
